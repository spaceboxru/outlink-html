jQuery(function(a){!function(){a(".fancybox").fancybox({width:"80%",autoSize:!1,maxWidth:980,padding:[45,45,45,45]})}(),function(){var b=a("[data-toggle=popover]");b.popover(),a(document).on("click",".popover-title",function(){b.filter("[aria-describedby^='popover']").trigger("click")})}(),function(){function a(){function a(b){b.each(function(b){function c(a){var b=a.radius+16,c=a.x-b,d=a.x+b,e=a.y-b,f=a.y+b;return function(b,g,h,i,j){if(b.point&&b.point!==a){var k=a.x-b.point.x,l=a.y-b.point.y,m=Math.sqrt(k*k+l*l),n=a.radius+b.point.radius;n>m&&(m=(m-n)/m*.5,a.x-=k*=m,a.y-=l*=m,b.point.x+=k,b.point.y+=l)}return g>d||c>i||h>f||e>j}}var d=d3.select(this),e=d.attr("id"),f=d.selectAll("svg").data([b]),g=a.width(),h=a.height(),i=a.charge(),j=a.gravity();f.enter().append("svg").attr("width",g).attr("height",h).call(a.svgInit);var k=d3.range(10).map(function(){return{radius:25}}),l=k[0];d3.scale.category10();l.radius=0,l.fixed=!0;var m=d3.layout.force().charge(i).gravity(j).nodes(k).size([g,h]);m.start(),f.selectAll("circle").data(k.slice(1)).enter().append("circle").attr("r",function(a){return a.radius}).style("fill",function(a,b){return"url(#image-"+(b+("chartRight"!=e?1:10))+")"}),m.on("tick",function(a){for(var b=d3.geom.quadtree(k),d=0,e=k.length;++d<e;)b.visit(c(k[d]));f.selectAll("circle").attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y})}),f.on("mousemove",function(){var a=d3.mouse(this);l.px=a[0],l.py=a[1],m.resume()})})}function b(b){function d(d){return arguments.length?(c[b]=d,a):c[b]}return d}var c={width:400,height:350,margin:{top:0,right:0,bottom:0,left:0},color:d3.scale.category10(),charge:-300,gravity:.1};a.svgInit=function(a){for(var b=a.append("defs"),c=1,d=20;d>c;c++){var e=b.append("pattern").attr("id","image-"+c).attr("x","0%").attr("y","0%").attr("width","100%").attr("height","100%").attr("viewBox","0 0 50 25");e.append("image").attr("xlink:href","../images/sprites/element-"+c+".png").attr("x","0").attr("y","0").attr("width","50").attr("height","25")}};for(var d in c)!a[d]&&c.hasOwnProperty(d)&&(a[d]=b(d));return a}var b=a(),c=a(),d=[];d3.select("#chartLeft").data([d]).call(b),d3.select("#chartRight").data([d]).call(c)}()});